<!DOCTYPE html>
<html>
<head>
    <title>HTTPS API Test</title>
</head>
<body>
    <h1>HTTPS API 測試</h1>
    <div id="results"></div>
    
    <script>
        const results = document.getElementById('results');
        
        // 測試 API URL 動態生成
        const apiUrl = `${window.location.protocol}//${window.location.host}/api`;
        results.innerHTML += `<p><strong>API Base URL:</strong> ${apiUrl}</p>`;
        
        // 測試 API 請求
        fetch(`${apiUrl}/files`)
            .then(response => {
                results.innerHTML += `<p><strong>API 請求狀態:</strong> ${response.status}</p>`;
                results.innerHTML += `<p><strong>HTTPS 協議:</strong> ${window.location.protocol === 'https:' ? '✅ 正確' : '❌ 錯誤'}</p>`;
                
                if (response.status === 401 || response.status === 403) {
                    results.innerHTML += `<p>✅ API 端點正常運作（需要認證）</p>`;
                } else if (response.status === 200) {
                    results.innerHTML += `<p>✅ API 端點正常運作</p>`;
                } else {
                    results.innerHTML += `<p>⚠️ API 狀態: ${response.status}</p>`;
                }
            })
            .catch(error => {
                results.innerHTML += `<p>❌ API 請求失敗: ${error.message}</p>`;
            });
    </script>
</body>
</html>