# MemoryArk 2.0 - çœŸè€¶ç©Œæ•™æœƒåª’é«”ç®¡ç†ç³»çµ±

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Go Version](https://img.shields.io/badge/Go-1.21+-blue.svg)](https://golang.org)
[![Vue Version](https://img.shields.io/badge/Vue.js-3.x-green.svg)](https://vuejs.org)

## å°ˆæ¡ˆæ¦‚è¿°

MemoryArk 2.0 æ˜¯å°ˆç‚ºçœŸè€¶ç©Œæ•™æœƒè¨­è¨ˆçš„ç¾ä»£åŒ–åª’é«”ç®¡ç†ç³»çµ±ï¼Œæä¾›é«˜æ•ˆçš„æ–‡ä»¶ç®¡ç†ã€åª’é«”è™•ç†å’Œç”¨æˆ¶å”ä½œåŠŸèƒ½ã€‚ç³»çµ±æ¡ç”¨ç¾ä»£åŒ–æŠ€è¡“å †ç–Šï¼Œå…·å‚™ä¼æ¥­ç´šå®‰å…¨æ€§å’Œæ€§èƒ½å„ªåŒ–ã€‚

### ä¸»è¦ç‰¹æ€§

- ğŸ” **é›™å±¤èº«ä»½é©—è­‰** - Cloudflare Access + å…§éƒ¨ç”¨æˆ¶å¯©æ ¸æ©Ÿåˆ¶
- ğŸ“ **æ™ºèƒ½æ–‡ä»¶ç®¡ç†** - æ”¯æŒå¤šç¨®åª’é«”æ ¼å¼ï¼Œæ™ºèƒ½åˆ†é¡å’Œæœç´¢
- ğŸµ **éŸ³é »è™•ç†** - è‡ªå‹•è½‰æ›å’Œå„ªåŒ–éŸ³é »æ–‡ä»¶
- ğŸ“± **éŸ¿æ‡‰å¼è¨­è¨ˆ** - å®Œç¾é©é…æ¡Œé¢å’Œç§»å‹•è¨­å‚™
- âš¡ **é«˜æ€§èƒ½** - Go å¾Œç«¯ + Vue 3 å‰ç«¯ï¼Œå¿«é€ŸéŸ¿æ‡‰
- ğŸ³ **å®¹å™¨åŒ–éƒ¨ç½²** - ä½¿ç”¨ Podman å®¹å™¨ï¼Œæ˜“æ–¼éƒ¨ç½²å’Œç¶­è­·

## æŠ€è¡“å †ç–Š

### å‰ç«¯
- **æ¡†æ¶**: Vue 3 + TypeScript
- **UIåº«**: Element Plus
- **æ§‹å»ºå·¥å…·**: Vite
- **ç‹€æ…‹ç®¡ç†**: Pinia

### å¾Œç«¯
- **èªè¨€**: Go 1.21+
- **æ¡†æ¶**: Gin
- **æ•¸æ“šåº«**: SQLite
- **èªè­‰**: JWT + Cloudflare Access

### éƒ¨ç½²
- **å®¹å™¨**: Podman
- **åå‘ä»£ç†**: Nginx
- **ç«¯å£**: 7001

## å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚

- **Podman** 4.0+ (æ¨è–¦) æˆ– Docker
- **Git** ç‰ˆæœ¬æ§åˆ¶
- **Make** (å¯é¸ï¼Œç°¡åŒ–é–‹ç™¼å‘½ä»¤)

> ğŸ’¡ æœ¬é …ç›®æ¡ç”¨å®¹å™¨åŒ–é–‹ç™¼ï¼Œç„¡éœ€åœ¨æœ¬æ©Ÿå®‰è£ Go æˆ– Node.js

### ğŸ³ å®¹å™¨åŒ–é–‹ç™¼ç’°å¢ƒè¨­ç½® (æ¨è–¦)

1. **å…‹éš†å°ˆæ¡ˆ**
   ```bash
   git clone <repository-url>
   cd MemoryArk2
   ```

2. **å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ**
   ```bash
   # ä½¿ç”¨ Makefile (æ¨è–¦)
   make dev-start
   
   # æˆ–ä½¿ç”¨è…³æœ¬
   ./scripts/dev-start.sh
   ```

3. **é€²å…¥é–‹ç™¼å®¹å™¨**
   ```bash
   make dev-shell
   ```

4. **åˆå§‹åŒ–é–‹ç™¼ç’°å¢ƒ**
   ```bash
   # åœ¨å®¹å™¨å…§åŸ·è¡Œ
   make init-all
   ```

5. **é–‹å§‹é–‹ç™¼**
   ```bash
   # å¾Œç«¯é–‹ç™¼ (åœ¨å®¹å™¨å…§)
   cd /app/backend && air
   
   # å‰ç«¯é–‹ç™¼ (åœ¨å®¹å™¨å…§ï¼Œæ–°çµ‚ç«¯)
   cd /app/frontend && npm run dev
   ```

6. **è¨ªå•æ‡‰ç”¨**
   - å‰ç«¯: <http://localhost:5173>
   - å¾Œç«¯ API: <http://localhost:7001>

### ğŸ“š å‚³çµ±æœ¬åœ°é–‹ç™¼ (å¯é¸)

### ä½¿ç”¨ Podman éƒ¨ç½²

1. **æ§‹å»ºå®¹å™¨**
   ```bash
   podman build -t memoryark2 .
   ```

2. **é‹è¡Œå®¹å™¨**
   ```bash
   podman run -d -p 7001:7001 --name memoryark2 \
     -v ./data:/app/data \
     -v ./uploads:/app/uploads \
     memoryark2
   ```

## å°ˆæ¡ˆçµæ§‹

```
MemoryArk2/
â”œâ”€â”€ backend/                 # Go å¾Œç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ cmd/                # æ‡‰ç”¨ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ internal/           # å…§éƒ¨åŒ…
â”‚   â”‚   â”œâ”€â”€ api/           # API è·¯ç”±å’Œè™•ç†å™¨
â”‚   â”‚   â”œâ”€â”€ auth/          # èªè­‰ç›¸é—œ
â”‚   â”‚   â”œâ”€â”€ config/        # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ database/      # æ•¸æ“šåº«ç›¸é—œ
â”‚   â”‚   â”œâ”€â”€ middleware/    # ä¸­é–“ä»¶
â”‚   â”‚   â”œâ”€â”€ models/        # æ•¸æ“šæ¨¡å‹
â”‚   â”‚   â””â”€â”€ services/      # æ¥­å‹™é‚è¼¯
â”‚   â”œâ”€â”€ pkg/               # å…¬å…±åŒ…
â”‚   â””â”€â”€ go.mod
â”œâ”€â”€ frontend/               # Vue 3 å‰ç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # Vue çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/         # é é¢è¦–åœ–
â”‚   â”‚   â”œâ”€â”€ stores/        # Pinia ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ router/        # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ api/           # API èª¿ç”¨
â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•¸
â”‚   â”œâ”€â”€ public/            # éœæ…‹è³‡æº
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docs/                   # æ–‡æª”
â”œâ”€â”€ deploy/                 # éƒ¨ç½²é…ç½®
â”œâ”€â”€ .github/               # GitHub é…ç½®
â””â”€â”€ README.md
```

## èªè­‰æµç¨‹

MemoryArk 2.0 æ¡ç”¨é›™å±¤èªè­‰æ©Ÿåˆ¶ï¼š

1. **ç¬¬ä¸€å±¤**: Cloudflare Access é€²è¡Œ Google å¸³è™Ÿé©—è­‰
2. **ç¬¬äºŒå±¤**: å…§éƒ¨ç”¨æˆ¶è¨»å†Šç”³è«‹å’Œç®¡ç†å“¡å¯©æ ¸

### ç”¨æˆ¶è¨»å†Šæµç¨‹

1. ç”¨æˆ¶é€šé Cloudflare Access é©—è­‰
2. å¡«å¯«è¨»å†Šç”³è«‹è¡¨ï¼ˆå§“åã€é›»è©±ã€æ‰€å±¬æ•™æœƒç­‰ï¼‰
3. ç®¡ç†å“¡å¯©æ ¸ç”³è«‹
4. å¯©æ ¸é€šéå¾Œç”¨æˆ¶å¯æ­£å¸¸ä½¿ç”¨ç³»çµ±

## API æ–‡æª”

API æ–‡æª”å°‡åœ¨é–‹ç™¼å®Œæˆå¾Œé€šé Swagger UI æä¾›ï¼Œé€šå¸¸å¯ä»¥åœ¨ä»¥ä¸‹åœ°å€è¨ªå•ï¼š
- é–‹ç™¼ç’°å¢ƒ: http://localhost:7001/swagger/
- ç”Ÿç”¢ç’°å¢ƒ: https://your-domain.com/api/swagger/

## é…ç½®èªªæ˜

### ç’°å¢ƒè®Šé‡

| è®Šé‡å | èªªæ˜ | é»˜èªå€¼ |
|--------|------|--------|
| `PORT` | æœå‹™ç«¯å£ | 7001 |
| `DB_PATH` | SQLite æ•¸æ“šåº«è·¯å¾‘ | ./data/memoryark.db |
| `UPLOAD_PATH` | æ–‡ä»¶ä¸Šå‚³è·¯å¾‘ | ./uploads |
| `JWT_SECRET` | JWT å¯†é‘° | - |
| `CLOUDFLARE_DOMAIN` | Cloudflare Access åŸŸå | - |

### Cloudflare Access é…ç½®

è«‹åƒè€ƒ `docs/cloudflare-setup.md` äº†è§£å¦‚ä½•é…ç½® Cloudflare Accessã€‚

## è²¢ç»æŒ‡å—

è«‹é–±è®€ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£å¦‚ä½•åƒèˆ‡å°ˆæ¡ˆè²¢ç»ã€‚

## ç‰ˆæœ¬æ­·å²

è«‹æŸ¥çœ‹ [CHANGELOG.md](CHANGELOG.md) äº†è§£ç‰ˆæœ¬è®Šæ›´è¨˜éŒ„ã€‚

## è¨±å¯è­‰

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT è¨±å¯è­‰ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è©³æƒ…ã€‚

## æ”¯æŒ

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹ï¼š

1. æŸ¥çœ‹ [æ–‡æª”](docs/)
2. æœç´¢ [Issues](../../issues)
3. å‰µå»ºæ–°çš„ [Issue](../../issues/new)

## ä½œè€…

- **é–‹ç™¼åœ˜éšŠ** - çœŸè€¶ç©Œæ•™æœƒ IT éƒ¨é–€

## è‡´è¬

æ„Ÿè¬æ‰€æœ‰ç‚º MemoryArk 2.0 å°ˆæ¡ˆåšå‡ºè²¢ç»çš„é–‹ç™¼è€…å’Œç”¨æˆ¶ã€‚
