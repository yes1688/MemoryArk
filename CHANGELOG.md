# 更新記錄

本檔案記錄 MemoryArk 2.0 的所有重要變更。

格式基於 [Keep a Changelog](https://keepachangelog.com/zh-TW/1.0.0/)，
版本編號遵循 [語意化版本](https://semver.org/lang/zh-TW/)。

## [2.0.1] - 2025-01-08

### 🔧 改進
- **真實數據整合** - 全面移除假數據，改用真實 API 數據
  - 更新 HomeView.vue - 主頁統計數據改為真實計算
  - 更新 WelcomeHeader.vue - 歡迎標題組件使用真實檔案統計
  - 更新 RecentFilesWidget.vue - 最近檔案小工具從檔案 store 動態計算
  - 更新 StorageStatsWidget.vue - 儲存空間統計基於真實檔案大小計算
  - 更新 SharedFolderView.vue - 共享資料夾頁面使用 categoryId 分類統計
  - 更新 SabbathDataView.vue - 安息日資料頁面基於真實檔案日期和分類
  - 更新 AppAccessHistory.vue - 訪問歷史組件轉換真實檔案為歷史記錄

### 🔧 修復
- **TypeScript 類型錯誤** - 修復檔案屬性不存在的編譯錯誤
  - 將 `isShared` 屬性改為使用 `categoryId` 判斷
  - 將 `category` 屬性統一改為使用 `categoryId` 
- **數據一致性** - 確保所有組件都使用相同的 filesStore 數據源
- **編譯成功** - 所有 TypeScript 錯誤已修復，建構成功

### 📊 數據改進
- **檔案統計** - 所有檔案數量統計改為動態計算
- **儲存空間** - 儲存使用量基於真實檔案大小總和
- **分類統計** - 根據 categoryId 動態計算各分類檔案數量
- **時間統計** - 基於檔案創建和更新時間計算最近檔案
- **安息日統計** - 根據檔案創建日期和分類計算安息日檔案數量

## [2.0.0] - 2025-01-07

### 🎉 新增
- **現代化前端架構** - 使用 Vue 3 + TypeScript + Tailwind CSS
- **Windows 11 設計語言** - 全新的 UI 設計系統
- **教會特色功能**
  - 安息日資料專區
  - 共享資源中心
  - 教會分類和配色系統
- **進階檔案管理**
  - 標籤系統 - 支援建立、搜尋、分類標籤
  - 收藏功能 - 支援收藏夾分類管理
  - 最近訪問記錄 - 時間分組顯示和清除功能
  - 分享連結生成 - 支援過期時間、密碼保護、下載限制
- **全新首頁設計**
  - 個人化歡迎頭部
  - 快速操作區
  - 最近檔案小工具
  - 儲存空間統計
  - 快速訪問資料夾
- **根管理員自動初始化** - 透過環境變數自動創建管理員帳號

### 🔧 改進
- **容器化架構** - 簡化為 Backend + Nginx 雙容器架構
- **環境變數優化** - 統一配置管理，減少 82% 無用變數
- **檔案管理** - 全面重構檔案管理界面和功能
- **響應式設計** - 支援桌面和行動裝置
- **效能優化** - 前端建構和載入速度提升

### 🗑️ 移除
- **過度設計的配置** - 移除 20 個無用檔案和腳本
- **Cloudflare Tunnel** - 簡化部署，移除複雜的隧道配置
- **supervisord** - 採用更簡潔的容器架構
- **多餘的環境變數** - 大幅精簡配置項目

### 🔄 變更
- **技術棧更新**
  - 前端：Vue 3 + TypeScript + Tailwind CSS
  - 後端：Go 1.22 + Gin Framework
  - 部署：Docker/Podman + Nginx
- **端口配置** - 統一對外使用 7001 端口
- **檔案結構** - 重新組織專案結構，提高可維護性

### 🐛 修復
- **TypeScript 類型錯誤** - 修復前端類型定義問題
- **容器建構** - 解決前端建構時的依賴問題
- **環境變數** - 修復配置不一致的問題

## [1.0.0] - 初始版本

### 新增
- 基礎檔案管理功能
- 用戶認證系統
- 初步的 Web 界面

---

**版本說明**：
- `新增` 表示新功能
- `改進` 表示現有功能的改善
- `移除` 表示被移除的功能
- `變更` 表示重大變更
- `修復` 表示錯誤修復