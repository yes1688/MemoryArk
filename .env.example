# MemoryArk2 + LINE Service 環境變數配置範本
# 複製此檔案為 .env 並填入實際值

# ================================================
# MemoryArk 主服務配置
# ================================================

# 執行模式
GIN_MODE=release
NODE_ENV=production

# 管理員配置 (重要：請務必設定)
ROOT_ADMIN_EMAIL=admin@94work.net
ROOT_ADMIN_NAME=系統管理員

# JWT 安全配置 (生產環境請務必更改)
JWT_SECRET=your-super-secret-jwt-key-here-please-change-this-in-production

# 開發模式配置 (生產環境請設為 false)
DEVELOPMENT_MODE=false
DEV_AUTO_LOGIN_EMAIL=
DEV_BYPASS_AUTH=false
DEV_CORS_ENABLED=false

# 檔案上傳限制
MAX_FILE_SIZE=104857600      # 100MB
MAX_UPLOAD_MEMORY=33554432   # 32MB

# 功能開關
DEDUPLICATION_ENABLED=true
STREAMING_EXPORT_ENABLED=true
EXPORT_CLEANUP_INTERVAL=24h
VIRTUAL_PATH_ENABLED=true
ENABLE_SHARED_RESOURCES=false
ENABLE_SABBATH_DATA=false

# 效能優化
GOMEMLIMIT=512MiB
GOGC=100
GOMAXPROCS=2

# ================================================
# LINE Service 配置
# ================================================

# LINE Bot 基本設定 (必填)
LINE_CHANNEL_ACCESS_TOKEN=your-line-channel-access-token-here
LINE_CHANNEL_SECRET=your-line-channel-secret-here

# Redis 配置 (如果使用外部 Redis)
REDIS_PASSWORD=

# MemoryArk API 整合
MEMORYARK_API_KEY=your-internal-api-key-for-line-service

# LINE 檔案上傳配置
LINE_MAX_FILE_SIZE=20971520  # 20MB (LINE 平台限制)

# 任務隊列配置
LINE_QUEUE_CONCURRENCY=5
LINE_QUEUE_ATTEMPTS=3
LINE_QUEUE_BACKOFF=exponential

# 日誌配置
LINE_LOG_LEVEL=info

# 自動清理配置
LINE_CLEANUP_ENABLED=true
LINE_CLEANUP_INTERVAL="0 2 * * *"  # 每天凌晨 2 點執行
LINE_CLEANUP_RETENTION_DAYS=7

# ================================================
# 安全性配置
# ================================================

# SSL/TLS (如果使用)
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/key.pem

# Cloudflare (如果使用)
CLOUDFLARE_TUNNEL_TOKEN=your-cloudflare-tunnel-token

# ================================================
# 監控和日誌
# ================================================

# 日誌級別
LOG_LEVEL=info

# 監控端點 (可選)
MONITORING_ENDPOINT=
METRICS_TOKEN=

# ================================================
# 資料庫配置 (通常不需要修改)
# ================================================
DATABASE_PATH=/app/data/memoryark.db
UPLOAD_PATH=/app/uploads

# ================================================
# 開發和測試配置
# ================================================

# 測試模式 (開發環境)
TEST_MODE=false
MOCK_LINE_API=false

# 除錯模式
DEBUG_ENABLED=false
VERBOSE_LOGGING=false

# ================================================
# 備份和維護
# ================================================

# 自動備份 (可選)
AUTO_BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 3 * * 0"  # 每週日凌晨 3 點
BACKUP_RETENTION_WEEKS=4

# 維護模式
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="系統維護中，請稍後再試"