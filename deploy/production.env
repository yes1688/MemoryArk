# MemoryArk 2.0 生產環境配置

# 應用配置
APP_NAME=memoryark
APP_VERSION=2.0.1
ENVIRONMENT=production

# 容器映像
BACKEND_IMAGE=memoryark/backend
FRONTEND_IMAGE=memoryark/frontend
NGINX_IMAGE=nginx

# 網域配置
DOMAIN_NAME=files.94work.net
PROTOCOL=https

# 資料庫配置
DATABASE_PATH=/home/memoryark/data/memoryark.db
DATABASE_BACKUP_PATH=/home/memoryark/backups/database

# 檔案儲存配置
UPLOADS_PATH=/home/memoryark/uploads
UPLOADS_BACKUP_PATH=/home/memoryark/backups/uploads
MAX_UPLOAD_SIZE=100M

# 網路配置
BACKEND_PORT=8080
FRONTEND_PORT=7001
NGINX_PORT=80
HTTPS_PORT=443

# 安全配置
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production
ADMIN_EMAIL=admin@94work.net
CLOUDFLARE_ACCESS_AUD=your-cloudflare-audience-id
CLOUDFLARE_ACCESS_CERT_URL=https://your-team.cloudflareaccess.com/cdn-cgi/access/certs

# 效能配置
MAX_CONCURRENT_UPLOADS=10
MAX_CONCURRENT_EXPORTS=5
WORKER_PROCESSES=auto
WORKER_CONNECTIONS=1024

# 快取配置
ENABLE_CACHE=true
CACHE_TTL=3600
REDIS_URL=redis://localhost:6379

# 日誌配置
LOG_LEVEL=info
LOG_FILE=/home/memoryark/logs/app.log
ACCESS_LOG=/home/memoryark/logs/access.log
ERROR_LOG=/home/memoryark/logs/error.log

# 監控配置
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30

# 備份配置
BACKUP_RETENTION_DAYS=30
AUTO_BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"

# SSL 配置
SSL_CERT_PATH=/etc/ssl/certs/memoryark.crt
SSL_KEY_PATH=/etc/ssl/private/memoryark.key
SSL_CHAIN_PATH=/etc/ssl/certs/memoryark-chain.crt

# 容器資源限制
BACKEND_MEMORY_LIMIT=1GB
BACKEND_CPU_LIMIT=1.0
FRONTEND_MEMORY_LIMIT=512MB
FRONTEND_CPU_LIMIT=0.5
NGINX_MEMORY_LIMIT=256MB
NGINX_CPU_LIMIT=0.3

# 重啟策略
RESTART_POLICY=unless-stopped
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_TIMEOUT=30s
HEALTH_CHECK_START_PERIOD=60s

# 特殊配置
ENABLE_DEBUG=false
ENABLE_PROFILING=false
MAINTENANCE_MODE=false