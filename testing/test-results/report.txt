
MemoryArk 2.0 測試報告
=====================
測試時間: 2025-06-10 16:59:13 - 2025-06-10 16:59:20
執行時間: 7.7 秒
目標伺服器: http://localhost:7001

測試總結:
- 總測試數: 54
- 通過: 28
- 失敗: 26
- 跳過: 0

測試詳情:

✅ Health Check
✅ Auth Status Check
❌ File List API
   錯誤: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /api/files/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x773d982c85f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
✅ Categories API
✅ Response Time Test
❌ File Upload Test
   錯誤: HTTP 錯誤: 201 - {"data":{"id":4,"name":"test-upload-1749545955.txt","original_name":"test-upload-1749545955.txt","file_path":"uploads/files/f2/f109e357-5046-4643-8132-6ffccbed7032","virtual_path":"/test-upload-1749545955.txt","sha256_hash":"f289739208a71818e9c3e5f632a5592d21982c6ee563f41d8f762722a3498cea","file_size":1062,"mime_type":"text/plain","thumbnail_url":"","parent_id":null,"category_id":null,"uploaded_by":1,"download_count":0,"is_directory":false,"is_deleted":false,"deleted_at":null,"deleted_by":null,"description":"","tags":"","content_type":"","speaker":"","sermon_title":"","bible_reference":"","like_count":0,"created_at":"2025-06-10T08:59:15.627963587Z","updated_at":"2025-06-10T08:59:15.627963587Z","uploader":{"id":0,"email":"","name":"","phone":"","role":"","status":"","avatar_url":"","created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z","last_login_at":null,"approved_by":null,"approved_at":null}},"message":"檔案上傳成功","success":true}
❌ Large File Upload Test
   錯誤: HTTP 錯誤: 201
✅ Unauthenticated Access: 取得用戶資訊
❌ Unauthenticated Access: 檔案列表
   錯誤: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /api/files/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x773d982ca360>: Failed to establish a new connection: [Errno 111] Connection refused'))
❌ Unauthenticated Access: 檔案上傳
   錯誤: 意外的狀態碼: 400
✅ Unauthenticated Access: 分類列表
❌ Unauthenticated Access: 建立分類
   錯誤: 意外的狀態碼: 400
✅ Unauthenticated Access: 管理員用戶列表
✅ Unauthenticated Access: 管理員統計
❌ Invalid Auth: 無效 email
   錯誤: 意外的回應: 200
❌ Invalid Auth: 空 email
   錯誤: 意外的回應: 200
❌ Invalid Auth: 格式錯誤 email
   錯誤: 意外的回應: 200
❌ Invalid Auth: 錯誤 header 名稱
   錯誤: 意外的回應: 200
✅ Admin Access: 用戶管理
✅ Admin Access: 系統統計
✅ Admin Access: 活動日誌
❌ Admin Access: 修改用戶角色
   錯誤: 意外狀態碼: 400
✅ Admin Access: 註冊申請列表
❌ User Denied: 用戶管理
   錯誤: 權限控制失效
❌ User Denied: 系統統計
   錯誤: 權限控制失效
✅ Authentication Consistency
✅ Header Case: CF-Access-Authenticated-User-Email
✅ Header Case: cf-access-authenticated-user-email
✅ Header Case: Cf-Access-Authenticated-User-Email
✅ Header Case: CF-ACCESS-AUTHENTICATED-USER-EMAIL
❌ User Registration Flow
   錯誤: 註冊被拒絕: {'error': {'code': 'INVALID_REQUEST', 'details': "Key: 'RegisterRequest.Phone' Error:Field validation for 'Phone' failed on the 'required' tag", 'message': '請求格式不正確'}, 'success': False}
✅ Malformed Request: Invalid JSON Body
❌ Malformed Request: Missing Content-Type
   錯誤: 預期狀態碼 400，實際 201
✅ Malformed Request: Empty Request Body
✅ Malformed Request: Oversized Request Body
❌ Path Traversal: ../../../etc/passwd...
   錯誤: 意外回應: 201
❌ Path Traversal: ..\..\..\windows\sys...
   錯誤: 意外回應: 201
❌ Path Traversal: /etc/passwd...
   錯誤: 意外回應: 201
❌ Path Traversal: ../../../../usr/bin/...
   錯誤: 意外回應: 201
❌ Path Traversal: ..%2F..%2F..%2Fetc%2...
   錯誤: 意外回應: 201
❌ Path Traversal: ....//....//....//et...
   錯誤: 意外回應: 201
❌ Path Traversal: ..\..\..\..\..\..\.....
   錯誤: 意外回應: 201
✅ SQL Injection: '; DROP TABLE users;...
✅ SQL Injection: 1' OR '1'='1...
✅ SQL Injection: admin'--...
✅ SQL Injection: 1' UNION SELECT * FR...
✅ SQL Injection: '; INSERT INTO users...
✅ Concurrent Requests Test
❌ Large Pagination Request
   錯誤: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /api/files/?limit=999999&page=1 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x773d982ca030>: Failed to establish a new connection: [Errno 111] Connection refused'))
❌ Invalid Upload: Empty File
   錯誤: 意外狀態碼: 201
❌ Invalid Upload: Extremely Long Filename
   錯誤: 意外狀態碼: 201
❌ Invalid Upload: Special Characters in Filename
   錯誤: 意外狀態碼: 201
✅ Invalid Upload: Null Bytes in Filename
✅ Rate Limiting Test